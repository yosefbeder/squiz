// Importing stuff

const forbesList = require('forbes-list');

// Dom Elements
const container = document.querySelector('.app__container');
const personDesc = document.querySelectorAll('.person__desc');
const btnCheck = document.querySelector('.btn--check');
const btnReSort = document.querySelector('.btn--resort');

// Dragging Elements
personDesc.forEach(desc => {
  desc.addEventListener('dragstart', function (e) {
    desc.classList.add('dragging');
  });
  desc.addEventListener('dragend', function (e) {
    desc.classList.remove('dragging');
  });
});

// App class
class App {
  constructor() {
    this.getData();
  }

  async getData() {
    const forbes = await require('forbes-list');
    const forbesList = await forbes.list({ limit: 5 });
    console.log(forbesList);
    return forbesList;
  }

  displayEl(data, id) {
    const { personName: name, state, birthDate } = data;
    const age = () =>
      new Date().getFullYear - new Date(birthDate).getFullYear();
    const html = `
          <div class="person">
            <div class="person__rank person__rank--${
              id <= 3 ? id : 'solid'
            }">${id}</div>
            <div class="person__desc" draggable="true">
              <div class="person__info">
                <div class="person__header">Name</div>
                <div class="person__text">${name}</div>
              </div>
              <div class="person__info">
                <div class="person__header">State</div>
                <div class="person__text">${state}</div>
              </div>
              <div class="person__info">
                <div class="person__header">Age</div>
                <div class="person__text">${age}</div>
              </div>
            </div>
            <img
              src="https://www.biography.com/.image/t_share/MTY2NzA3ODE3OTgwMzcyMjYw/jeff-bezos-andrew-harrer_bloomberg-via-getty-images.jpg"
              alt=""
              srcset=""
              class="person__img"
            />
          </div>
    `;

    container.insertAdjacentHTML('beforeend', html);
  }
}

const app = new App();
